<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <title>Physics Engine(BETA)</title>
    <script src="js/jquery-3.1.1.min.js"></script>
    <script src="js/EaselJS.js"></script>
    <script src="js/box2dweb.js"></script>
    <!--    <script src="js/embox2d-helpers.js"></script>-->
    <link rel="stylesheet" type="text/css" href="css/game.css">
</head>
<body id="body" onload="onload();" oncontextmenu="return false;">
<div id="loginModal" class="ui basic mini modal login">
    <input type="number" step=".1" id="ballBounce" value="0.7">Ball Bounce<br>
    <input type="number" step=".1" id="squareBounce" value="0.7">Square Bounce<br>
    <input type="number" id="xGravity" value="0">Right-Left Gravity<br>
    <input type="number" id="yGravity" value="7">Down-Up Gravity<br>
    <input type="text" id="ballImage" value="img/n64.png">Ball Image(Direct URL)<br><br>
    <button onclick="test();">Submit</button>
    <button id="default" onclick="init()">Default Settings</button>
    <button id="reset" onclick="location.reload(true)">Reset All</button>
</div>
<div id="game">
    <canvas id="canvas" width="1000" height="800"></canvas>
    <canvas id="debug" width="1000" height="800"></canvas>
</div>
<script>
    //Ball Variables
    let ballImage = "img/n64.png";
    let ballDensity = 1;
    let ballFriction = 1;
    let ballBounce = 0.7;
    //Square Variables
    let squareDensity = 1;
    let squareFriction = 0.5;
    let squareBounce = 0.6;
    //Ground Variables
    let xGravity = 0;
    let yGravity = 7;

    function test() {
        document.getElementById('default').innerHTML = 'Initialize';
        ballBounce = $('#ballBounce').val();
        xGravity = $('#xGravity').val();
        yGravity = $('#yGravity').val();
        ballImage = $('#ballImage').val();
        init();
    }

    function onload() {
        let c = document.getElementById("canvas");
        let ctx = c.getContext("2d");
    }

    function toggleSettings() {
        $('#settings').toggle();
        $('#gameModal').toggle();
    }

    $('body').on('keypress', function (e) {
        if (e.key === '`') {
            toggleSettings();
        }
        if (e.key === 'Enter') {
            test();
        }
        if (e.key === 'x') {
            clear();
        }
    });
</script>
<script src="js/Main.js"></script>
<script src="js/Ball.js"></script>
<script src="js/Square.js"></script>
<script src="js/Ground.js"></script>
</body>
</html>
